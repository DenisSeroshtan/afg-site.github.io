{"version":3,"sources":["slider.js","popup.js","draw.js","scroll.js","form.js"],"names":["EqualHeight","elem","_this","this","maxH","document","querySelectorAll","init","i","length","style","minHeight","offsetHeight","window","addEventListener","Popup","obj","popup","overlay","createElement","modal","btnClose","modalContent","body","querySelector","duration","insertBefore","children","className","trigger","resize","flag","bH","height","open","cont","content","innerHTML","wH","documentElement","clientHeight","top","classList","add","fixed","overflow","close","remove","auto","setTimeout","e","preventDefault","hasAttribute","link","getAttribute","form","onclick","draw","svg","$","that","initSvg","on","blHeightTop","block","offset","scrollTop","animate","ndx","item","prev","th","drawsvg","easing","callback","find","css","fillOpacity","addClass","slider","timer","settings","dots","createDots","autoSwitch","$this","slides","closest","activeSlide","filter","nextSlide","next","prevSlide","firstSlide","first","lastSlide","last","clearTimer","hasClass","moveSlide","activeDot","curDotNum","index","direction","reqSlide","eq","slide","container","slideWidth","width","reqCssPosition","reqSlideStrafe","movebleSlide","left","removeClass","toggleClass","setActiveDot","each","dotContainer","append","siblings","setInterval","clearInterval","onload","fade","t","op","opacity","display","preloader","target","attr","menu","slideToggle","removeAttr","slideMenu","wWidth","outerWidth","slideUp","buttons","k","text","novalid","inputs","value","alert","ajax","type","url","data","serialize","done"],"mappings":"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","file":"app.js","sourcesContent":["var slider = (function () {\n  //private variables\n  var timer = 0;\n  var flag = true;\n\n  return {\n    init : function (settings) {\n      var _this = this;\n\n      //добавить точки\n      if (settings.dots) {\n        _this.createDots();\n      }\n      // автопереключение слайдов\n      if (settings.auto) {\n        _this.autoSwitch(settings.duration);\n      }\n      $('.slider__arr').on('click', function (e) {\n        e.preventDefault();\n\n        var\n            $this = $(this),\n            slides = $this.closest('.slider').find('.slider__item'),\n            activeSlide = slides.filter('.active'),\n            nextSlide = activeSlide.next(),\n            prevSlide = activeSlide.prev(),\n            firstSlide = slides.first(),\n            lastSlide = slides.last();\n\n        _this.clearTimer(settings.duration);\n\n        if ( $this.hasClass(\"slider__arr-next\")) {\n          if (nextSlide.length) {\n            _this.moveSlide(nextSlide, 'forward');\n          }else {\n            _this.moveSlide(firstSlide, 'forward');\n          }\n        }else {\n          if (prevSlide.length) {\n            _this.moveSlide(prevSlide, 'backward');\n          }else {\n            _this.moveSlide(lastSlide, 'backward');\n          }\n\n        }\n      });\n      // клик по точка\n      $('.slider__dots-link').on('click', function (e) {\n        e.preventDefault();\n\n        var\n            $this = $(this),\n            dots = $this.closest('.slider__dots').find('.slider__dots-item'),\n            activeDot = dots.filter('.active'),\n            dot = $this.closest(\".slider__dots-item\"),\n            curDotNum = dot.index(),\n            direction = (activeDot.index()<curDotNum) ? 'forward' : 'backward',\n            reqSlide = $this.closest('.slider').find('.slider__item').eq(curDotNum);\n        _this.clearTimer(settings.duration);\n        _this.moveSlide(reqSlide, direction);\n      })\n    },\n    moveSlide: function (slide, direction) {\n      var\n          _this = this,\n          container = slide.closest('.slider'),\n          slides = container.find('.slider__item'),\n          activeSlide = slides.filter('.active'),\n          slideWidth = slides.width(),\n          duration = 500,\n          reqCssPosition = 0,\n          reqSlideStrafe = 0;\n      if (flag) {\n        flag = false;\n        if (direction === \"forward\") {\n          reqCssPosition = slideWidth;\n          reqSlideStrafe = - slideWidth;\n        }else if (direction === \"backward\"){\n          reqCssPosition = - slideWidth;\n          reqSlideStrafe =  slideWidth;\n        }\n        slide.css('left', reqCssPosition).addClass('inslide');\n\n        var movebleSlide = slides.filter('.inslide');\n\n        activeSlide.animate({\n          left: reqSlideStrafe}, duration);\n        movebleSlide.animate({left: 0}, duration, function () {\n          var $this = $(this);\n          slides.css(\"left\", 0).removeClass('active');\n          $this.toggleClass('inslide active')\n\n          _this.setActiveDot(container.find('.slider__dots'))\n\n          flag = true;\n        });\n      }\n    },\n\n    createDots: function () {\n      var\n          _this = this,\n          container = $('.slider');\n      var\n          dotsMarkup = '<li class=\"slider__dots-item \"> \\ <a class=\"slider__dots-link\" href=\"#\"></a> \\ </li>';\n\n      container.each(function () {\n        var\n            $this = $(this),\n            slides = $this.find('.slider__item'),\n            dotContainer = $this.find('.slider__dots');\n        for( var i = 0; i < slides.length; i++){\n          dotContainer.append(dotsMarkup);\n        }\n        _this.setActiveDot(dotContainer);\n      })\n    },\n\n    setActiveDot : function (container) {\n      var\n          slides = container.closest('.slider__wrap').find('.slider__item');\n      container.find('.slider__dots-item')\n          .eq(slides.filter('.active').index())\n          .addClass('active')\n          .siblings()\n          .removeClass('active')\n    },\n\n    autoSwitch: function (duration) {\n      var\n          _this = this,\n          duration = duration || 5000;\n      timer = setInterval(function () {\n        var\n            slides = $('.slider__list .slider__item'),\n            activeSlide = slides.filter('.active'),\n            nextSlide = activeSlide.next(),\n            firstSlide = slides.first();\n        if (nextSlide.length) {\n          _this.moveSlide(nextSlide, 'forward');\n        }else {\n          _this.moveSlide(firstSlide, 'forward');\n        }\n      }, duration);\n\n    },\n    clearTimer : function (duration) {\n      if(timer) {\n        clearInterval(timer);\n        this.autoSwitch(duration);\n      }\n    }\n\n  }\n})();\n// класс для выравнивания высот элементов\nfunction EqualHeight (elem) {\n  var _this = this;\n  var maxH = 0;\n\n  _this.elem = document.querySelectorAll(elem);\n\n  _this.init = function () {\n    // сброс стилей на значение по умолчанию\n    for (var i = 0; i<_this.elem.length; i++) {\n      _this.elem[i].style.minHeight = \"auto\";\n    }\n    // расчет наибольшей высоты\n    for (var i = 0; i<_this.elem.length; i++) {\n      maxH = _this.elem[0].offsetHeight;\n\n      if (_this.elem[i].offsetHeight > maxH) {\n        maxH = _this.elem[i].offsetHeight;\n      }\n      _this.elem[i].style.minHeight = maxH + \"px\";\n    }\n\n  }\n  _this.init();\n  // изменение высоты элементов при изменение ширины страницы\n  window.addEventListener('resize', _this.init);\n\n}\n(function () {\n  if(('.slider').length) {\n    slider.init({\n      dots: true,\n      auto: true\n      // duration : 2000\n    });\n  }\n  var equal = new EqualHeight(\".slider__item\");\n})();","\nfunction Popup(obj) { // prototype\n  var popup = this;\n\n  var overlay = document.createElement('div');\n  var modal = document.createElement('div');\n  var btnClose = document.createElement('div');\n  var modalContent = document.createElement('div');\n\n  var body = document.querySelector(\"body\");\n  var duration = obj.duration || 4000;\n  // создаем элементы DOM при загрузке документа\n  document.body.insertBefore(overlay, document.body.children[0]);\n  overlay.className = \"overlay\";\n\n  document.body.insertBefore(modal, document.body.children[1]);\n  modal.className = \"modal\";\n\n  modal.insertBefore(btnClose, modal.children[0]);\n  btnClose.className = \"close\";\n\n  modal.insertBefore(modalContent, modal.children[1]);\n  modalContent.className = \"content\";\n\n  this.overlay = document.querySelector(\".overlay\");\n  this.modal = document.querySelector(\".modal\");\n  this.modalContent = document.querySelector(\".modal .content\");\n  this.btnClose = document.querySelector(\".modal .close\");\n  this.trigger = document.querySelectorAll(obj.trigger);\n\n  this.resize = function (flag) {\n    // расчет высоты overlay по высоте body\n    var bH = body.offsetHeight;\n\n    if (flag) {\n      popup.overlay.style.height = bH + \"px\";\n    }else {\n      popup.overlay.style.height = \"\"\n    }\n\n  };\n\n  //изменение высоты overlay при изменение размера окна\n\n  this.open = function (cont) {\n    popup.resize(true);\n    window.addEventListener('resize', function() {\n      popup.resize(true);\n    });\n\n    if (obj.content) {\n      cont = document.querySelector(obj.content).innerHTML\n    } else if (cont) {\n      cont =  document.querySelector(cont).innerHTML\n    } else {\n      cont = \"здесь должен быть контент\"\n    }\n\n\n    // выравнивание по вертикали\n    var wH= document.documentElement.clientHeight;\n    // var scrollTop = window.pageYOffset || document.documentElement.scrollTop;\n    popup.modal.style.top = wH/2+\"px\";\n    popup.modalContent.innerHTML = cont;\n\n    popup.overlay.classList.add('showed');\n    popup.modal.classList.add('showed');\n\n    if (obj.fixed) {\n      body.style.overflow = 'hidden';\n    }\n\n  };\n  this.close = function () {\n\n    popup.overlay.classList.remove('showed');\n    popup.modal.classList.remove('showed');\n    popup.modal.style.top = 0;\n    body.style.overflow = \"\";\n\n    popup.resize(false)\n    window.addEventListener('resize', function() {\n      popup.resize(false);\n    });\n\n\n  };\n  if (obj.auto) {\n    setTimeout(function () {\n      popup.open()\n    }, duration)\n  }\n  // применяем настройки по ключам объекта\n  if (this.trigger) {\n    for(var i = 0; i<this.trigger.length; i++) {\n      this.trigger[i].addEventListener('click', function(e){\n        e.preventDefault();\n        // проверям наличие ссылки на popup\n        if (this.hasAttribute('data-popup')) {\n          var link = this.getAttribute('data-popup');\n          var form = document.querySelector(link);\n          popup.open(form.innerHTML);\n        }else{\n          popup.open();\n        }\n      })\n    }\n  }\n\n  popup.btnClose.onclick = popup.close;\n  popup.overlay.onclick = popup.close;\n\n}\nvar popup = new Popup({\n  content: \".header-mid__right\",\n  trigger: \".section__bottom .btn\",\n  fixed: true\n  // auto: true\n  // duration: 12000\n});\n\n(function () {\n  // меняем заголовки в popup\n  var buttons = popup.trigger;\n  for (var k = 0; k<buttons.length; k++) {\n    buttons[k].addEventListener('click', function (e) {\n      e.preventDefault();\n      var text = this.innerHTML;\n      var title = document.querySelector('.form__title');\n      title.innerHTML = text;\n    })\n  }\n}());\n\n","var draw = (function(){\r\n  // privat\r\n  var flag = true;\r\n\r\n  return {\r\n    init: function (obj) {\r\n      var svg = $(obj.svg);\r\n      var that = this;\r\n      for(var i = 1; i<=svg.length; i++){\r\n        that.initSvg(i);\r\n      }\r\n      $(document).on('scroll', function () {\r\n        var\r\n            blHeightTop = $(obj.block).offset().top,\r\n            currentWinHeight = $(this).scrollTop();\r\n\r\n        if (currentWinHeight >= blHeightTop) {\r\n          if (flag) {\r\n            that.animate(1);\r\n            flag = false;\r\n          }\r\n        }\r\n      });\r\n    },\r\n    initSvg: function(ndx) {\r\n      ndx = ndx || \" \";\r\n      var svg = $('#draw-svg-'+ndx);\r\n      var item = svg.prev();\r\n      var th = this;\r\n\r\n      return svg.drawsvg({\r\n        duration: 600,\r\n        easing: 'linear',\r\n        callback: function () {\r\n\r\n          var path = svg.find('path');\r\n          path.css({\r\n            fillOpacity: 1\r\n          });\r\n          setTimeout(function () {\r\n            item.addClass('active');\r\n          }, 100);\r\n          th.animate(++ndx);\r\n        }\r\n      });\r\n    },\r\n    animate : function (ndx) {\r\n      var mySVG = this.initSvg(ndx);\r\n      mySVG.drawsvg('animate');\r\n    }\r\n  }\r\n\r\n\r\n})();\r\n$(function () {\r\n  if($(\".work__svg-bg\").length) {\r\n    draw.init({\r\n      svg: \".work__svg-bg\",\r\n      block: \".work\"\r\n    });\r\n  }\r\n})","window.onload = function() {\n  var preloader = document.querySelector('.preloader');\n  var anim = document.querySelector('.cssload-thecube');\n\n   function fade (elem, t){\n     var op = 1;\n     var t = t || 100;\n     var step = 0.11;\n     var timer = setInterval(function () {\n       op -= step;\n       if (op < 0) {\n         clearInterval(timer);\n         elem.style.opacity = 0;\n         elem.style.display = \"none\";\n       }else elem.style.opacity = op;\n     }, t);\n   }\n\n  fade(anim, 50);\n  setTimeout(function () {\n    fade(preloader, 100);\n  },800);\n};\n\n(function(){\n //smooth scroll\n  $('a[href^=\"#js\"]').on('click', function(e) {\n    e.preventDefault();\n    var target = $(this).attr('href');\n    $('html, body').animate({\n      scrollTop: $(target).offset().top + 10\n    }, 'slow', 'swing');\n  });\n\n})();\n\n(function () { // dropdown menu\n  $('.hamburger').on('click', function(e){\n    e.preventDefault();\n    var $this = $(this);\n    var menu = $this.attr('href');\n\n    $(menu).slideToggle(400, function (){\n      var th = $(this);\n      if (th.css('display') === 'none'){\n        th.removeAttr('style');\n      }\n    });\n    $this.toggleClass('is-active');\n\n  });\n\n  $(document).on('click', function (e) {\n    var $this = $(e.target);\n    var slideMenu = $('.nav__list');\n    var wWidth = $(window).outerWidth();\n    if (!$this.closest('.nav').length && wWidth<=1100) {\n      slideMenu.slideUp(400, function (){\n        var th = $(this);\n        if (th.css('display') === 'none'){\n          th.removeAttr('style');\n        }\n      });\n      $(\".hamburger\").removeClass('is-active');\n    }\n  });\n\n})();\n\n\n\n\n","\n(function (){\n\n    $('body').on('submit', '.form', function(e) {\n      e.preventDefault()\n      var\n          $this = $(this),\n          novalid = false,\n          inputs = $this.find('.input');\n\n       for (var i = 0; i<inputs.length; i++) {\n         if (!inputs[i].value) {\n           novalid = true;\n         }\n       }\n\n      if(novalid) {\n        alert('Заполните все поля');\n        return;\n      }\n        $.ajax({\n          type: \"POST\",\n          url: \"/mail.php\",\n          data: $this.serialize()\n        }).done(function() {\n          // закрываем popup\n          popup.close();\n\n          setTimeout(function() {\n            alert(\"Сообщение отправлено\");\n            $this.trigger(\"reset\");\n          }, 800);\n        });\n\n    });\n\n})();"]}