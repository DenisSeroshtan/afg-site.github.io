function EqualHeight(e){var t=this,i=0;t.elem=document.querySelectorAll(e),t.init=function(){for(e=0;e<t.elem.length;e++)t.elem[e].style.minHeight="auto";for(var e=0;e<t.elem.length;e++)i=t.elem[0].offsetHeight,t.elem[e].offsetHeight>i&&(i=t.elem[e].offsetHeight),t.elem[e].style.minHeight=i+"px"},t.init(),window.addEventListener("resize",t.init)}function Popup(e){var t=this,i=document.createElement("div"),n=document.createElement("div"),o=document.createElement("div"),r=document.createElement("div"),s=document.querySelector("body"),l=e.duration||4e3;if(document.body.insertBefore(i,document.body.children[0]),i.className="overlay",document.body.insertBefore(n,document.body.children[1]),n.className="modal",n.insertBefore(o,n.children[0]),o.className="close",n.insertBefore(r,n.children[1]),r.className="content",this.overlay=document.querySelector(".overlay"),this.modal=document.querySelector(".modal"),this.modalContent=document.querySelector(".modal .content"),this.btnClose=document.querySelector(".modal .close"),this.trigger=document.querySelectorAll(e.trigger),this.resize=function(e){var i=s.offsetHeight;t.overlay.style.height=e?i+"px":""},this.open=function(i){t.resize(!0),window.addEventListener("resize",function(){t.resize(!0)}),i=e.content?document.querySelector(e.content).innerHTML:i?document.querySelector(i).innerHTML:"здесь должен быть контент";var n=document.documentElement.clientHeight;t.modal.style.top=n/2+"px",t.modalContent.innerHTML=i,t.overlay.classList.add("showed"),t.modal.classList.add("showed"),e.fixed&&(s.style.overflow="hidden")},this.close=function(){t.overlay.classList.remove("showed"),t.modal.classList.remove("showed"),t.modal.style.top=0,s.style.overflow="",t.resize(!1),window.addEventListener("resize",function(){t.resize(!1)})},e.auto&&setTimeout(function(){t.open()},l),this.trigger)for(var a=0;a<this.trigger.length;a++)this.trigger[a].addEventListener("click",function(e){if(e.preventDefault(),this.hasAttribute("data-popup")){var i=this.getAttribute("data-popup"),n=document.querySelector(i);t.open(n.innerHTML)}else t.open()});t.btnClose.onclick=t.close,t.overlay.onclick=t.close}var draw=function(){var e=!0;return{init:function(t){for(var i=$(t.svg),n=this,o=1;o<=i.length;o++)n.initSvg(o);$(document).on("scroll",function(){var i=$(t.block).offset().top;$(this).scrollTop()>=i&&e&&(n.animate(1),e=!1)})},initSvg:function(e){e=e||" ";var t=$("#draw-svg-"+e),i=t.prev(),n=this;return t.drawsvg({duration:600,easing:"linear",callback:function(){t.find("path").css({fillOpacity:1}),setTimeout(function(){i.addClass("active")},100),n.animate(++e)}})},animate:function(e){this.initSvg(e).drawsvg("animate")}}}();$(function(){$(".work__svg-bg").length&&draw.init({svg:".work__svg-bg",block:".work"})});var slider=function(){var e=0,t=!0;return{init:function(e){var t=this;e.dots&&t.createDots(),e.auto&&t.autoSwitch(e.duration),$(".slider__arr").on("click",function(i){i.preventDefault();var n=$(this),o=n.closest(".slider").find(".slider__item"),r=o.filter(".active"),s=r.next(),l=r.prev(),a=o.first(),c=o.last();t.clearTimer(e.duration),n.hasClass("slider__arr-next")?s.length?t.moveSlide(s,"forward"):t.moveSlide(a,"forward"):l.length?t.moveSlide(l,"backward"):t.moveSlide(c,"backward")}),$(".slider__dots-link").on("click",function(i){i.preventDefault();var n=$(this),o=n.closest(".slider__dots").find(".slider__dots-item").filter(".active"),r=n.closest(".slider__dots-item").index(),s=o.index()<r?"forward":"backward",l=n.closest(".slider").find(".slider__item").eq(r);t.clearTimer(e.duration),t.moveSlide(l,s)})},moveSlide:function(e,i){var n=this,o=e.closest(".slider"),r=o.find(".slider__item"),s=r.filter(".active"),l=r.width(),a=0,c=0;if(t){t=!1,"forward"===i?(a=l,c=-l):"backward"===i&&(a=-l,c=l),e.css("left",a).addClass("inslide");var d=r.filter(".inslide");s.animate({left:c},500),d.animate({left:0},500,function(){var e=$(this);r.css("left",0).removeClass("active"),e.toggleClass("inslide active"),n.setActiveDot(o.find(".slider__dots")),t=!0})}},createDots:function(){var e=this;$(".slider").each(function(){for(var t=$(this),i=t.find(".slider__item"),n=t.find(".slider__dots"),o=0;o<i.length;o++)n.append('<li class="slider__dots-item ">  <a class="slider__dots-link" href="#"></a>  </li>');e.setActiveDot(n)})},setActiveDot:function(e){var t=e.closest(".slider__wrap").find(".slider__item");e.find(".slider__dots-item").eq(t.filter(".active").index()).addClass("active").siblings().removeClass("active")},autoSwitch:function(t){var i=this,t=t||5e3;e=setInterval(function(){var e=$(".slider__list .slider__item"),t=e.filter(".active").next(),n=e.first();t.length?i.moveSlide(t,"forward"):i.moveSlide(n,"forward")},t)},clearTimer:function(t){e&&(clearInterval(e),this.autoSwitch(t))}}}();!function(){".slider".length&&slider.init({dots:!0,auto:!0});new EqualHeight(".slider__item")}(),window.onload=function(){function e(e,t){var i=1,t=t||100,n=setInterval(function(){(i-=.11)<0?(clearInterval(n),e.style.opacity=0,e.style.display="none"):e.style.opacity=i},t)}var t=document.querySelector(".preloader");e(document.querySelector(".cssload-thecube"),50),setTimeout(function(){e(t,100)},800)},$('a[href^="#js"]').on("click",function(e){e.preventDefault();var t=$(this).attr("href");$("html, body").animate({scrollTop:$(t).offset().top+10},"slow","swing")}),$(".hamburger").on("click",function(e){e.preventDefault();var t=$(this),i=t.attr("href");$(i).slideToggle(400,function(){var e=$(this);"none"===e.css("display")&&e.removeAttr("style")}),t.toggleClass("is-active")}),$(document).on("click",function(e){var t=$(e.target),i=$(".nav__list"),n=$(window).outerWidth();!t.closest(".nav").length&&n<=1100&&(i.slideUp(400,function(){var e=$(this);"none"===e.css("display")&&e.removeAttr("style")}),$(".hamburger").removeClass("is-active"))});var popup=new Popup({content:".header-mid__right",trigger:".section__bottom .btn",fixed:!0});!function(){for(var e=popup.trigger,t=0;t<e.length;t++)e[t].addEventListener("click",function(e){e.preventDefault();var t=this.innerHTML;document.querySelector(".form__title").innerHTML=t})}(),$("body").on("submit",".form",function(e){e.preventDefault();for(var t=$(this),i=!1,n=t.find(".input"),o=0;o<n.length;o++)n[o].value||(i=!0);i?alert("Заполните все поля"):$.ajax({type:"POST",url:"/mail.php",data:t.serialize()}).done(function(){popup.close(),setTimeout(function(){alert("Сообщение отправлено"),t.trigger("reset")},800)})});
//# sourceMappingURL=app.js.map
